!function(){"use strict";var t={3495:function(t,e,r){r.d(e,{v:function(){return o}});class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$form=t.$form,this.form=this.$form.form,this.settings=t,setTimeout((()=>{this.initObserver()}),500)}initObserver(){const t=new IntersectionObserver((t=>{for(const e of t){const t=e.target;0===e.intersectionRatio?this.onHide(t):this.onShow(t)}}),{root:this.$form,rootMargin:"50px"});this.getPlaceholders().forEach((e=>t.observe(e)))}getPlaceholders(){return[]}onShow(t){}onHide(t){}createContainer(t){const e=document.createElement("div");return t.innerHTML="",t.appendChild(e),e}destroyContainer(t){t.innerHTML=""}}window.FormieCaptchaProvider=o}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,r),n.exports}r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t=r(3495);const e=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5;const r=Date.now(),o=function(i,n){window[t]?i(window[t]):e&&Date.now()-r>=e?n(new Error("timeout")):setTimeout(o.bind(this,i,n),30)};return new Promise(o)};class o extends t.v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.$form=t.$form,this.form=this.$form.form,this.publicKey=t.publicKey,this.scriptId="FORMIE_CAPTCHA_EU_SCRIPT"}getPlaceholders(){return this.$form.querySelectorAll("[data-captcha-eu-placeholder]")}onShow(t){super.onShow(t),this.initCaptcha(t)}onHide(t){super.onHide(t),this.destroyCaptcha(t)}initCaptcha(t){if(document.getElementById(this.scriptId))e("KROT").then((()=>{this.renderCaptcha(t)}));else{const r=document.createElement("script");r.id=this.scriptId,r.src="https://w19.captcha.at/sdk.js",r.async=!0,r.defer=!0,r.onload=()=>{e("KROT",5e3).then((()=>{this.renderCaptcha(t)}))},document.body.appendChild(r)}}destroyCaptcha(t){this.destroyContainer(t)}renderCaptcha(t){this.$activePlaceholder=t;const e=this.createContainer(t),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","captcha-eu-token"),t.appendChild(r),KROT.init(),KROT.setup(this.publicKey),KROT.WidgetV2.render(e),KROT.on("CPT_OK",(t=>{r.value=JSON.stringify(t.detail)}),e)}onAfterSubmit(){const{hasMultiplePages:t}=this.form.settings;!t&&this.$activePlaceholder&&setTimeout((()=>{this.destroyCaptcha(this.$activePlaceholder),this.renderCaptcha(this.$activePlaceholder)}),300)}}window.FormieCaptchaEu=o}()}();