/*! For license information please see routes.js.LICENSE.txt */
!function(){var t={54:function(t,e,r){"use strict";function n(t,e){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i],o=a[0],s={id:t+":"+i,css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}r.d(e,{A:function(){return p}});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},d=null,h="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,r,i){c=r,d=i||{};var o=n(t,e);return v(o),function(e){for(var r=[],i=0;i<o.length;i++){var s=o[i];(u=a[s.id]).refs--,r.push(u)}for(e?v(o=n(t,e)):o=[],i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}}function v(t){for(var e=0;e<t.length;e++){var r=t[e],n=a[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(g(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var o=[];for(i=0;i<r.parts.length;i++)o.push(g(r.parts[i]));a[r.id]={id:r.id,refs:1,parts:o}}}}function m(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function g(t){var e,r,n=document.querySelector("style["+h+'~="'+t.id+'"]');if(n){if(c)return l;n.parentNode.removeChild(n)}if(f){var i=u++;n=s||(s=m()),e=C.bind(null,n,i,!1),r=C.bind(null,n,i,!0)}else n=m(),e=$.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function C(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function $(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),d.ssrId&&t.setAttribute(h,e.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},439:function(t,e,r){var n=r(698);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,r(54).A)("8602b10a",n,!0,{})},698:function(){}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t,e,n,i,a;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),s=new M(n||[]);return i(o,"_invoke",{value:T(t,r,s)}),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function C(){}function $(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(O([])));E&&E!==r&&n.call(E,u)&&(w=E);var L=$.prototype=b.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function r(i,a,s,u){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==o(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function T(e,r,n){var i=p;return function(a,o){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=U(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var c=f(e,r,n);if("normal"===c.type){if(i=n.done?g:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function U(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,U(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return C.prototype=$,i(L,"constructor",{value:$,configurable:!0}),i($,"constructor",{value:C,configurable:!0}),C.displayName=d($,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,$):(t.__proto__=$,d(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(I.prototype),d(I.prototype,c,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new I(h(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(L),d(L,l,"Generator"),d(L,u,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){u(a,n,i,o,s,"next",t)}function s(t){u(a,n,i,o,s,"throw",t)}o(void 0)}))}}r(439),t=jQuery,n=Garnish.Base.extend({tokens:null,routes:null,$container:null,$addRouteBtn:null,sorter:null,init:function(){this.tokens={},this.routes=[],this.$container=t("#routes");for(var e=this.getRoutes(),r=0;r<e.length;r++){var n=new i(e[r]);this.routes.push(n)}Craft.hasMousePointerEvents()?this.sorter=new Garnish.DragSort(e,{handle:".move",axis:Garnish.Y_AXIS,onSortChange:this.updateRouteOrder.bind(this)}):t("#routes .move").hide(),this.$addRouteBtn=t("#add-route-btn"),this.addListener(this.$addRouteBtn,"click","addRoute")},getRoutes:function(){return this.$container.children(".route")},updateRouteOrder:function(){for(var e=this.getRoutes(),r={routeUids:[]},n=0;n<e.length;n++)r.routeUids.push(t(e[n]).attr("data-uid"));Craft.sendActionRequest("POST","routes/update-route-order",{data:r}).then((function(){Craft.cp.displaySuccess(Craft.t("app","New route order saved."))})).catch((function(){Craft.cp.displayError(Craft.t("app","Couldn’t save new route order."))}))},addRoute:function(){new a(null,{triggerElement:this.$addRouteBtn})}}),i=Garnish.Base.extend({$container:null,uid:null,siteUid:null,$siteLabel:null,$uri:null,$template:null,modal:null,$actionMenu:null,actionDisclosure:null,$actionMenuOptions:null,init:function(e){var r=this;this.$container=t(e),this.uid=this.$container.data("uid"),this.siteUid=this.$container.data("site-uid"),this.$siteLabel=this.$container.find(".site:first"),this.$uri=this.$container.find(".uri:first"),this.$template=this.$container.find(".template:first"),Craft.allowAdminChanges&&this.addListener(this.$container,"click","edit");var n=this.$container.find("> .actions > .action-btn"),i=n.data("disclosureMenu")||new Garnish.DisclosureMenu(n);this.$actionMenu=i.$container,this.actionDisclosure=i,i.on("show",(function(){r.$container.addClass("active");var e=[];r.$container.prev(".route").length||e.push("moveUp"),r.$container.next(".route").length||e.push("moveDown");var n=r.$actionMenu.find("button[data-action]"),i=e.length?n.filter(e.map((function(t){return"[data-action=".concat(t,"]")})).join(",")):t(),a=r.$actionMenu.data("disclosureMenu");i.each((function(t,e){a.hideItem(e)})),n.not(i).each((function(t,e){a.showItem(e)}))})),i.on("hide",(function(){r.$container.removeClass("active")})),this.$actionMenuOptions=this.$actionMenu.find("button[data-action]"),this.addListener(this.$actionMenuOptions,"activate",this.handleActionClick)},edit:function(){this.modal?this.modal.show():this.modal=new a(this,{triggerElement:this.$container.find(".edit-btn")})},moveUp:function(){var t=this.$container.prev(".route");t.length&&(this.$container.insertBefore(t),Craft.routes.updateRouteOrder())},moveDown:function(){var t=this.$container.next(".route");t.length&&(this.$container.insertAfter(t),Craft.routes.updateRouteOrder())},updateHtmlFromModal:function(){var t;if(Craft.isMultiSite)if(this.siteUid){for(t=0;t<Craft.sites.length;t++)if(Craft.sites[t].uid==this.siteUid){this.$siteLabel.text(Craft.sites[t].name);break}}else this.$siteLabel.text(Craft.t("app","Global"));var e="";for(t=0;t<this.modal.uriInput.elements.length;t++){var r=this.modal.uriInput.elements[t];this.modal.uriInput.isText(r)?e+=Craft.escapeHtml(r.val()):e+=r.prop("outerHTML")}this.$uri.html(e),this.$template.text(this.modal.$templateInput.val())},handleActionClick:function(t){t.preventDefault(),this.onActionSelect(t.target)},onActionSelect:function(e){var r;switch(t(e).data("action")){case"moveUp":this.moveUp();break;case"moveDown":this.moveDown()}null===(r=this.actionDisclosure)||void 0===r||r.hide()}}),a=Garnish.Modal.extend({route:null,$heading:null,$uriInput:null,$uriErrors:null,uriElements:null,$templateInput:null,$saveBtn:null,$cancelBtn:null,$spinner:null,$deleteBtn:null,loading:!1,init:function(e,r){this.route=e;var n="<h4>"+Craft.t("app","Add a token")+"</h4>";for(var i in Craft.routes.tokens)Craft.routes.tokens.hasOwnProperty(i)&&(n+='<div class="token" data-name="'+i+'" data-value="'+Craft.routes.tokens[i]+'"><span>'+i+"</span></div>");var a,o='<form class="modal fitted route-settings" accept-charset="UTF-8"><div class="header"><h1></h1></div><div class="body"><div class="uri-field field"><div class="heading"><label for="uri">'+Craft.t("app","If the URI looks like this")+':</label></div><div class="input">';if(Craft.isMultiSite&&(o+='<div class="flex"><div class="flex-grow">'),o+='<div id="uri" class="text uri ltr"></div>',Craft.isMultiSite){for(o+='</div><div class="select"><select class="site"><option value="">'+Craft.t("app","Global")+"</option>",a=0;a<Craft.sites.length;a++){var s=Craft.sites[a];o+='<option value="'+s.uid+'">'+Craft.escapeHtml(s.name)+"</option>"}o+="</select></div></div>"}o+='</div><div class="uri-tokens">'+n+'</div></div><div class="template-field field"><div class="heading"><label for="template">'+Craft.t("app","Load this template")+':</label></div><div class="input"><input id="template" type="text" class="text fullwidth template ltr"></div></div></div><div class="footer"><div class="buttons right last"><button type="button" class="btn cancel">'+Craft.t("app","Cancel")+'</button><button type="submit" class="btn submit">'+Craft.t("app","Save")+'</button><div class="spinner" style="display: none;"></div></div><button type="button" class="delete btn chromeless">'+Craft.t("app","Delete")+"</button></div></form>";var u=t(o).appendTo(Garnish.$bod);if(this.$heading=u.find("h1:first"),this.$siteInput=u.find(".site:first"),this.$uriInput=u.find(".uri:first"),this.$templateInput=u.find(".template:first"),this.$saveBtn=u.find(".submit:first"),this.$cancelBtn=u.find(".cancel:first"),this.$spinner=u.find(".spinner:first"),this.$deleteBtn=u.find(".delete:first"),this.route||this.$deleteBtn.hide(),this.uriInput=new Garnish.MixedInput(this.$uriInput,{dir:"ltr"}),this.route?this.$heading.html(Craft.t("app","Edit Route")):this.$heading.html(Craft.t("app","Create a new route")),this.route){this.$siteInput.val(this.route.siteUid);var c=this.route.$uri.prop("childNodes");for(a=0;a<c.length;a++){var l=c[a];Garnish.isTextNode(l)?this.uriInput.addTextElement(void 0,!1).setVal(l.nodeValue):this.addUriVar(l)}var d=this.route.$template.text();this.$templateInput.val(d)}this.base(u,r);var h=this.$container.find(".uri-tokens").children("div");this.addListener(h,"mousedown",(function(t){this.addUriVar(t.currentTarget)})),this.addListener(this.$container,"submit","saveRoute"),this.addListener(this.$cancelBtn,"click","cancel"),this.addListener(this.$deleteBtn,"click","deleteRoute")},addUriVar:function(e){var r=t(e).clone().attr("tabindex","0");this.uriInput.addElement(r),this.addListener(r,"keydown",(function(t){var e=this;switch(t.keyCode){case Garnish.LEFT_KEY:t.preventDefault(),setTimeout((function(){Garnish.isCtrlKeyPressed(t)?e.uriInput.focusStart():e.uriInput.focusPreviousElement(r)}),1);break;case Garnish.RIGHT_KEY:t.preventDefault(),setTimeout((function(){Garnish.isCtrlKeyPressed(t)?e.uriInput.focusEnd():e.uriInput.focusNextElement(r)}),1);break;case Garnish.BACKSPACE_KEY:case Garnish.DELETE_KEY:setTimeout((function(){e.uriInput.removeElement(r)}),1),t.preventDefault()}}))},show:function(){this.route&&(this.$heading.html(Craft.t("app","Edit Route")),this.$deleteBtn.show()),this.base()},saveRoute:(e=c(s().mark((function e(r){var n,a,o,u,c,l,d,h,f,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!this.loading){e.next=3;break}return e.abrupt("return");case 3:this.$container.find(".uri-field .input").removeClass("errors"),this.$uriErrors&&(this.$uriErrors.remove(),this.$uriErrors=null),n={siteUid:this.$siteInput.val(),uriParts:[]},this.route&&(n.routeUid=this.route.uid),a=0;case 8:if(!(a<this.uriInput.elements.length)){e.next=29;break}if(o=this.uriInput.elements[a],!this.uriInput.isText(o)){e.next=25;break}if(u=o.val(),0!==a){e.next=22;break}if(!(u=Craft.ltrim(u,"/")).startsWith("".concat(Craft.actionTrigger,"/"))){e.next=19;break}return this.addUriError(Craft.t("app","The URI can’t begin with the {setting} config setting.",{setting:"actionTrigger"})),e.abrupt("return");case 19:if(!Craft.cpTrigger||!u.startsWith("".concat(Craft.cpTrigger,"/"))){e.next=22;break}return this.addUriError(Craft.t("app","The URI can’t begin with the {setting} config setting.",{setting:"cpTrigger"})),e.abrupt("return");case 22:n.uriParts.push(u),e.next=26;break;case 25:n.uriParts.push([o.attr("data-name"),o.attr("data-value")]);case 26:a++,e.next=8;break;case 29:return n.template=this.$templateInput.val(),this.loading=!0,this.$saveBtn.addClass("active"),this.$spinner.show(),e.prev=33,e.next=36,Craft.sendActionRequest("POST","routes/save-route",{data:n});case 36:c=e.sent,e.next=42;break;case 39:e.prev=39,e.t0=e.catch(33),Craft.cp.displayError(Craft.t("app","Couldn’t save route."));case 42:return e.prev=42,this.$saveBtn.removeClass("active"),this.$spinner.hide(),this.loading=!1,e.finish(42);case 47:if(this.route){e.next=61;break}return h='<div class="route" data-uid="'+c.data.routeUid+'"'+(c.data.siteUid?' data-site-uid="'+c.data.siteUid+'"':"")+'><div class="uri-container">',Craft.isMultiSite&&(h+='<span class="site"></span>'),e.next=52,Craft.ui.icon("edit");case 52:f=e.sent,h+='<span class="uri" dir="ltr"></span></div><div class="template" dir="ltr"></div><div class="actions">'+'<button class="chromeless small edit-btn" title="'.concat(Craft.t("app","Edit"),'" aria-label="').concat(Craft.t("app","Edit"),'" role="none">')+'<div class="inline-flex"><div class="cp-icon">'+t(f).html()+"</div></div></button></div></div>",(p=t(h)).appendTo("#routes"),this.addNewRouteActions(p),this.route=new i(p),this.route.modal=this,null===(l=Craft.routes.sorter)||void 0===l||l.addItems(p),1===(null===(d=Craft.routes.sorter)||void 0===d?void 0:d.$items.length)&&t("#noroutes").addClass("hidden");case 61:this.route.siteUid=c.data.siteUid,this.route.updateHtmlFromModal(),this.hide(),Craft.cp.displaySuccess(Craft.t("app","Route saved."));case 65:case"end":return e.stop()}}),e,this,[[33,39,42,47]])}))),function(t){return e.apply(this,arguments)}),addNewRouteActions:function(e){var r=this,n=e.find(".actions");Craft.ui.createButton({class:"chromeless small edit-btn",icon:"edit"}).attr({title:Craft.t("app","Edit"),"aria-label":Craft.t("app","Edit"),role:"none"}).appendTo(n),t(" ").appendTo(n);var i="menu-".concat(Math.floor(1e6*Math.random())),a=Craft.ui.createButton({class:"menubtn action-btn small",controls:i,ariaLabel:Craft.t("app","Actions")}).attr({"data-disclosure-trigger":"true",title:Craft.t("app","Actions")}).appendTo(n);t("<div/>",{id:i,class:"menu menu--disclosure"}).appendTo(n);var o,u,l=a.disclosureMenu().data("disclosureMenu");l.addItem({icon:(o=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Craft.ui.icon("arrow-up");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)}),label:Craft.t("app","Move up"),onActivate:function(){r.route.moveUp()},attributes:{"data-action":"moveUp"}}),l.addItem({icon:(u=c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Craft.ui.icon("arrow-down");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)}),label:Craft.t("app","Move down"),onActivate:function(){r.route.moveDown()},attributes:{"data-action":"moveDown"}}),t("<a />",{class:"move icon",title:Craft.t("app","Reorder"),"aria-label":Craft.t("app","Reorder"),tabindex:"-1"}).appendTo(n)},addUriError:function(t){this.$container.find(".uri-field .input").addClass("errors"),this.$uriErrors?Craft.ui.addErrorsToList(this.$uriErrors,[t]):(this.$uriErrors=Craft.ui.createErrorList([t]),this.$uriErrors.insertAfter(this.$container.find(".uri-field .input")))},cancel:function(){this.hide(),this.route&&(this.route.modal=null)},deleteRoute:function(){var e,r;confirm(Craft.t("app","Are you sure you want to delete this route?"))&&(Craft.sendActionRequest("POST","routes/delete-route",{data:{routeUid:this.route.uid}}).then((function(t){Craft.cp.displaySuccess(Craft.t("app","Route deleted."))})),null===(e=Craft.routes.sorter)||void 0===e||e.removeItems(this.route.$container),this.route.$container.remove(),this.$triggerElement=Craft.routes.$addRouteBtn,this.hide(),0===(null===(r=Craft.routes.sorter)||void 0===r?void 0:r.$items.length)&&t("#noroutes").removeClass("hidden"))}}),Craft.routes=new n}()}();
//# sourceMappingURL=routes.js.map